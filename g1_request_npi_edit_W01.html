<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>SVI – NPI Requisition NPI Create Work Order</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <link rel="stylesheet" href="g1_style.css">


</head>
<body>
<div class="container">
    <h1>SVI – NPI Requisition <span class="hint">(Edit)</span></h1>

    
 <form id="npiForm" onsubmit="event.preventDefault(); alert('Submitted!');"></form>
<div class="row-actions"></div>
        <div class="col-12 mb-3">
          <!-- <label style="font-size: 1rem; font-weight: 500;">Work Order</label> -->
        <div class="row mb-2 align-items-center">
            <div class="col-auto">
                <label style="font-size: 0.9rem; font-weight: 400;">Project's Work Order</label>
            </div>
            <div class="col">
                <select disabled class="form-select">
                    <option>AXC-2000LF</option>
                    <option>AXC-3000LF</option>
                </select>
            </div>
        </div>
        <div class="row-actions">
        <button type="button" onclick="addrow_buildstatus()">Add Build Status</button>
         </div>
         <div class="row mb-2 align-items-center">
            <div class="col-auto">
                <label style="font-size: 0.9rem; font-weight: 400;">Enter Work Order</label>
            </div>
            <div class="col" style="max-width: 120px;">
                <input disabled stype="text" class="form-control" value="01" placeholder="WO" id="WOInput">
            </div>
        </div>
          <table id="buildstatus">
            <thead>
              <tr>
            <th>Work Order</th>
            <th>Build Status</th>
            <th>Progress</th>
            <th>Actions</th>
              </tr>
            </thead>
            <tbody id="rowsbuildstatus">
              <tr>
                <td>01</td>
                <td>
                    <select disabled>
                        <option selected>Prototype</option>
                        <option>DVT</option>
                        <option>EVT</option>
                    </select>
                </td>
                <td>
                     <select>
                    <option>Open</option>
                    <option>In Progress</option>
                    <option selected>Closed</option>
                </select>
                </td>
                <td>
                <button type="button" class="danger" onclick="deleterow_buildstatus(this)">Delete</button>
                </td>
              </tr>
              <tr>
                <td>01</td>
                <td>
                     <select disabled>
                        <option>Prototype</option>
                        <option selected>EVT</option>
                        <option>DVT</option>
                    </select>
                </td>
                <td>
                    <select>
                    <option>Open</option>
                    <option selected>In Progress</option>
                    <option>Closed</option>
                </select>
                </td>
                <td>
                <button type="button" class="danger"  onclick="deleterow_buildstatus(this)">Delete</button>
                </td>
              </tr>
              <tr>
                <td>01</td>
                <td>
                    <select>
                        <option>Prototype</option>
                        <option>EVT</option>
                        <option selected>DVT</option>
                        <option>PVT</option>
                    </select>

                </td>
                <td>
                     <select>
                    <option selected>Open</option>
                    <option>In Progress</option>
                    <option>Closed</option>
                </select>
                </td>
                <td>
                <button type="button" class="danger"  onclick="deleterow_buildstatus(this)">Delete</button>
                </td>
              </tr>


          </table>
        </div>

    <tr></tr>

        <!-- 5) Submit / Back -->
      <div class="actions">
        <button type="submit" class="primary">Submit</button>
        <button type="button" onclick="history.back()">Back</button>
      </div>
    </form>


       

    <script>
        function addrow_buildstatus() {
        const woValue = document.getElementById('WOInput').value.trim();  
             if (!woValue) {
                alert('Please enter a Work Order before adding a new row.');
            return;
            }          
        const table = document.getElementById('buildstatus');
        const rows = document.getElementById('rowsbuildstatus');
        const newRow = document.createElement('tr');
        newRow.innerHTML = `
            <td>
                <div>${woValue}</div>
            </td>
            <td>
                <select>
                    <option>Prototype</option>
                    <option>EVT</option>
                    <option>DVT</option>
                    <option>PVT</option>
                </select>
            </td>
            <td>
               <select>
                    <option>Open</option>
                    <option>In Progress</option>
                    <option>Closed</option>
                </select>
            </td>
            <td>
                <button type="button" class="danger" onclick="deleterow_buildstatus(this)"> Delete </button>
            </td>`;
        
        rows.appendChild(newRow); }

    function deleterow_buildstatus(button) {
        const table = document.getElementById('buildstatus');
        const row = button.closest('tr');
        if (table.rows.length > 1) {
            row.remove();
        } else {
            alert('Cannot delete the last row.');
        }
    }   

    </script>
</body>
</html>